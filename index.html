<html>

  <head>
    <title>記帳 APP</title>
		<meta name="viewport" content="width=device-width; initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel="stylesheet" href="css/boostrap.css">
    <link rel="stylesheet" type="text/css" href="css/style.css">
    <script src="js/jquery.js"> </script>
    <script src="js/bootstrap.js"> </script>
    <script src="js/fdb.js"> </script>
  </head>
    
  <body>
    <br>
    <br>
    <h1 class="cen-ter">記帳のAPP</h1>
    <br>
    <br>
    <br>
    <br>
    <a href="charge.html"><button class="cen-ter btn btn-default">記帳</button></a>
    <br>
    <a href="10search.html"><button class="cen-ter btn btn-default">查詢最近的10筆帳</button></a>
    <br>
    <a href="search.html"><button class="cen-ter btn btn-default">查詢特定時間內的帳</button></a>
    <br>
    <button class="cen-ter btn btn-default">離開APP</button>
    <br>
    <br>
    <br>
    <br>
    <br>
    <table class="table">
      <thead>
        <tr>
          <th> </th>
          <th class="textWhite">類別</th>
          <th class="textWhite">項目</th>
          <th class="textWhite">金額</th> 
          <th class="textWhite">日期</th>
        </tr>
      </thead>
    	<tbody id=table>
      
    	</tbody>
		</table>
    <br>
    
    <script>
      var fdb = new ForerunnerDB();
      var db = fdb.db("DB");
      var expensesCollection = db.collection("expenses");
      expensesCollection.load(function (){
      	
      	var searchToday = expensesCollection.find(
        	{},
        	{
        		$limit:1,
          	$OrderBy:{date:-1}
      	  }
    	  );
      
      	$("tbody").html("");
      	$("#table").append("<tr><td> </td><td class='textWhite'>"+searchToday[0].category+"</td><td class='textWhite'>"+searchToday[0].name+"</td><td class='textWhite'>"+searchToday[0].amount+"</td><td class='textWhite'>"+searchToday[0].date+"</td></tr>");
		
      });
      
  	</script>
  </body>
  
</html>
