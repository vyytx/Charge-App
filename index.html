<html>

  <head>
    <title>記帳 APP</title>
		<meta name="viewport" content="width=device-width; initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel="stylesheet" href="css/boostrap.css">
    <script src="js/main.js"> </script>
    <link rel="stylesheet" type="text/css" href="css/style.css">
   	<script src="js/jquery.js"> </script>
   	<script src="js/bootstrap.js"> </script>
	  <script src="js/fdb.js"> </script>
  </head>
    
  <body>
    <br>
    <br>
    <h1 class="cen-ter">記帳のAPP</h1>
    <br>
    <br>
    <br>
    <br>
    <a href="charge.html"><button class="cen-ter btn btn-default">記帳</button></a>
    <br>
    <a href="10search.html"><button class="cen-ter btn btn-default">查詢最近的10筆帳</button></a>
    <br>
    <a href="search.html"><button class="cen-ter btn btn-default">查詢特定時間內的帳</button></a>
    <br>
    <br>
    <br>
    <table class="table">
      <thead>
        <tr>
          <th> </th>
          <th class="textWhite">類別</th>
          <th class="textWhite">項目</th>
          <th class="textWhite">金額</th> 
          <th class="textWhite">日期</th>
        </tr>
      </thead>
    	<tbody id=table>
      
    	</tbody>
		</table>
    <br>
    
    <script>
      var fdb = new ForerunnerDB();
      var db = fdb.db("DB");
      var expensesCollection = db.collection("expenses");
      expensesCollection.load();
      
      var searchToday = expensesCollection.find(
        {},
        {
          $limit:1,
          $OrderBy:{date:-1}
        }
      );
      
      $("tbody").html("");
      
      var count = 0;
      for (i=0;i<10;i++){
        $("#table").append("<tr><td> </td><td class='textWhite'>"+searchToday[count].category+"</td><td class='textWhite'>"+searchToday[count].name+"</td><td class='textWhite'>"+searchToday.amount+"</td><td class='textWhite'>"+searchToday.date+"</td></tr>");
        count = count + 1;
      }
    </script>
  </body>
  
</html>
